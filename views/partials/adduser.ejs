  <body>
    <main>
      <!--FORMULÁRIO ADD USUÁRIO-->
      <form action="/home" class="user-form">         
        <div class="user-datas">
          <label for="name">Nome</label>
          <input type="text" name="name" id="name" required>
          <label for="email">E-mail</label>
          <div class="email error"></div>
          <input type="email" name="email" id="email" required> 
          <label for="password">Senha</label>
          <div class="password error"></div>
          <input type="password" name="password" id="password" required>
        </div>
        <!-- <div class="permissions">   
          <p>Tipo de Usuário:</p>
          <label for="#"><input type="radio" onclick="getChecked()" name="user-type" value="viewer" checked>Visualizador</label></br>
          <label for="#"><input type="radio" onclick="getChecked()" name="user-type" value="requester">Solicitante</label></br>          
          <label for="#"><input type="radio" onclick="getChecked()" name="user-type" value="administrator">Administrador</label></br>
        </div> -->
          <!-- <a class="btn-black" href="">Cancelar</a> -->
        <button class="btn-black">Cadastrar</button>
      </form>
    </main>
  </body>

  <script>
    const form = document.querySelector('form');
    const emailError = document.querySelector('.email.error');
    const passwordError = document.querySelector('.password.error');
  
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
  
      // reset errors
      emailError.textContent = '';
      passwordError.textContent = '';
  
      // get values
      const email = form.email.value;
      const password = form.password.value;
  
      try {
        const res = await fetch('/signup', { 
          method: 'POST', 
          body: JSON.stringify({ email, password }),
          headers: {'Content-Type': 'application/json'}
        });
        const data = await res.json();
        console.log(data);
        if (data.errors) {
          emailError.textContent = data.errors.email;
          passwordError.textContent = data.errors.password;
        }
        if (data.user) {
          location.assign('/');
        }
  
      }
      catch (err) {
        console.log(err);
      }
  
    });